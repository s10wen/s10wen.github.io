var _CACHE_NAME="upup-cache";self.addEventListener("message",function(e){"set-settings"===e.data.action&&_setSettings(e.data.settings)}),self.addEventListener("fetch",function(e){e.respondWith(fetch(e.request.url,{mode:"no-cors"}).catch(function(){return caches.match(e.request).then(function(t){return t?t:e.request.headers.get("accept").includes("text/html")?caches.match("sw-offline-content"):void 0})}))});var _setSettings=function(e){return caches.open(_CACHE_NAME).then(function(t){return e.assets&&t.addAll(e.assets.map(function(e){return new Request(e,{mode:"no-cors"})})),e["content-url"]?fetch(e["content-url"],{mode:"no-cors"}).then(function(e){return t.put("sw-offline-content",e)}):e.content?t.put("sw-offline-content",_buildResponse(e.content)):t.put("sw-offline-content",_buildResponse("You are offline"))})},_buildResponse=function(e){return new Response(e,{headers:{"Content-Type":"text/html"}})};